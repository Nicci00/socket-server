<!DOCTYPE html>
<html>
<head>
	<title>Test Client</title>
	<script type="text/javascript">
		function timestamp(){
		return "[" + String(Math.floor(Date.now() / 1000)) + "] ";
	}
	var ws = new WebSocket('ws://shijou.moe:8080/');
	ws.onopen = function(){
		console.log(timestamp() + "Connected alright")
	}
	ws.onmessage = function(event) {
		console.log(timestamp() + "Got data from server alright");
		var data = JSON.parse(event.data)
		document.getElementById("art").innerHTML = data.artist;
		document.getElementById("tit").innerHTML = data.title;
		document.getElementById("lis").innerHTML = data.listeners;
	};
	</script>
</head>
<body>
	<p>Artist(s): <span id="art"></span></p>
	<p>Title: <span id="tit"></span></p>
	<p>Current Listeners: <span id="lis"></span></p>

	<a href="javascript:location.reload()">Reload</a>
</body>
</html>